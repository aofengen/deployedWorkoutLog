{"version":3,"sources":["app.js","define.js","log.js","auth.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../bundle.js","sourcesContent":["$(function() {\r\n\tlet WorkoutLog = (function($, undefined) {\r\n\t\tlet API_BASE = \"https://cool-aarons-api.herokuapp.com/api/\";\r\n\t\tlet userDefinitions = [];\r\n\t\tlet setAuthHeader = function(sessionToken) {\r\n\t\t\twindow.localStorage.setItem(\"sessionToken\", sessionToken);\r\n\t\t\t//set the authorization header\r\n\t\t\t//this can be done on individual calls\r\n\t\t\t//here we showcase ajaxSetup as a global tool\r\n\t\t\t$.ajaxSetup({\r\n\t\t\t\t\"headers\": {\r\n\t\t\t\t\t\"Authorization\": sessionToken\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t//public\r\n\t\treturn {\r\n\t\t\tAPI_BASE: API_BASE,\r\n\t\t\tsetAuthHeader: setAuthHeader\r\n\t\t};\r\n\t})(jQuery);\r\n\r\n\t//ensure .disabled aren't clickable\r\n\t$(\".nav-tabs a[data-toggle='tab']\").on(\"click\", function(e){\r\n\t\tlet token = window.localStorage.getItem(\"sessionToken\");\r\n\t\tif ($(this).hasClass(\"disabled\") && !token) {\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t});\r\n\r\n\t//bind tab change events\r\n\t$('a[data-toggle=\"tab\"]').on('shown.bs.tab', function(e) {\r\n\t\tlet target = $(e.target).attr(\"href\"); //activated tab\r\n\t\tif (target === \"#log\") {\r\n\t\t\tWorkoutLog.log.setDefinitions(\"log\");\r\n\t\t}\r\n\t\tif (target === \"#update-log\") {\r\n\t\t\tWorkoutLog.log.setDefinitions(\"update\");\r\n\t\t}\r\n\t\tif (target === \"#history\") {\r\n\t\t\tWorkoutLog.log.setHistory();\r\n\t\t}\r\n\t});\r\n\r\n\tlet token = window.localStorage.getItem(\"sessionToken\");\r\n\tif (token) {\r\n\t\tWorkoutLog.setAuthHeader(token);\r\n\t}\r\n\t//expose this to the other workout modules\r\n\twindow.WorkoutLog = WorkoutLog;\r\n});","$(function() {\r\n\t$.extend(WorkoutLog, {\r\n\t\tdefinition: {\r\n\t\t\tuserDefinitions: [],\r\n\t\t\tcreate: function() {\r\n\t\t\t\tlet def = {\r\n\t\t\t\t\tdesc: $(\"#def-description\").val(),\r\n\t\t\t\t\ttype: $(\"#def-logtype\").val()\r\n\t\t\t\t};\r\n\t\t\t\tlet postData = {definition: def};\r\n\t\t\t\tlet define = $.ajax({\r\n\t\t\t\t\ttype: \"POST\",\r\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"definition\",\r\n\t\t\t\t\tdata: JSON.stringify(postData),\r\n\t\t\t\t\tcontentType: \"application/json\"\r\n\t\t\t\t});\r\n\r\n\t\t\t\tdefine.done(function(data) {\r\n\t\t\t\t\tWorkoutLog.definition.userDefinitions.push(data.definition);\r\n\t\t\t\t\t$(\"#def-description\").val(\"\");\r\n\t\t\t\t\t$(\"#def-logtype\").val(\"\");\r\n\t\t\t\t\t$('a[href=\"#log\"]').tab(\"show\");\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tfetchAll: function() {\r\n\t\t\t\tlet fetchDefs = $.ajax({\r\n\t\t\t\t\ttype: \"GET\",\r\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"definition\",\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\"authorization\": window.localStorage.getItem(\"sessionToken\")\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.done(function(data) {\r\n\t\t\t\t\tWorkoutLog.definition.userDefinitions = data;\r\n\t\t\t\t})\r\n\t\t\t\t.fail(function(err) {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t$(\"#def-save\").on(\"click\", WorkoutLog.definition.create);\r\n\tif (window.localStorage.getItem(\"sessionToken\")) {\r\n\t\tWorkoutLog.definition.fetchAll();\r\n\t}\r\n})","$(function() {\r\n\t$.extend(WorkoutLog, {\r\n\t\tlog: {\r\n\t\t\tworkouts: [],\r\n\r\n\t\t\tsetDefinitions: function(type) {\r\n\t\t\t\tlet defs = WorkoutLog.definition.userDefinitions;\r\n\t\t\t\tlet len = defs.length;\r\n\t\t\t\tlet opts;\r\n\t\t\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\t\t\topts += \"<option value='\" + defs[i].id +\"'>\" + defs[i].description + \"</option>\";\r\n\t\t\t\t}\r\n\t\t\t\t\t$(\"#\" + type + \"-definition\").children().remove();\r\n\t\t\t\t\t$(\"#\" + type + \"-definition\").append(opts);\r\n\t\t\t},\r\n\t\t\tsetHistory: function() {\r\n\t\t\t\tconsole.log(WorkoutLog.log.workouts);\r\n\t\t\t\tlet history = WorkoutLog.log.workouts;\r\n\t\t\t\tlet len = history.length;\r\n\t\t\t\tlet lis = \"\";\r\n\t\t\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\t\t\tlis += \"<li class='list-group-item'>\" + \r\n\t\t\t\t\thistory[i].def + \" - \" +\r\n\t\t\t\t\thistory[i].result + \" \" +\r\n\t\t\t\t\t//pass the log.id into the button's id attribute\r\n\t\t\t\t\t\"<div class='pull-right'>\" +\r\n\t\t\t\t\t\t\"<button id='\" + history[i].id + \"' class='update'><b>U</b></button>\" +\r\n\t\t\t\t\t\t\"<button id='\" + history[i].id + \"' class='remove'><b>X</b></button>\" +\r\n\t\t\t\t\t\"</div></li>\";\r\n\t\t\t\t}\r\n\t\t\t\t$(\"#history-list\").children().remove();\r\n\t\t\t\t$(\"#history-list\").append(lis);\r\n\t\t\t},\r\n\t\t\tcreate: function() {\r\n\t\t\t\tlet itsLog = {\r\n\t\t\t\t\tdesc: $(\"#log-description\").val(),\r\n\t\t\t\t\tresult: $(\"#log-result\").val(),\r\n\t\t\t\t\tdef: $(\"#log-definition option:selected\").text()\r\n\t\t\t\t};\r\n\t\t\t\tconsole.log(itsLog)\r\n\t\t\t\tlet postData = {log: itsLog};\r\n\t\t\t\tlet logger = $.ajax({\r\n\t\t\t\t\ttype: \"POST\",\r\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"log\",\r\n\t\t\t\t\tdata: JSON.stringify(postData),\r\n\t\t\t\t\tcontentType: \"application/json\"\r\n\t\t\t\t});\r\n\t\t\t\tlogger.done(function(data) {\r\n\t\t\t\t\tWorkoutLog.log.workouts.push(data);\r\n\t\t\t\t\t$(\"#log-description\").val(\"\");\r\n\t\t\t\t\t$(\"#log-result\").val(\"\");\r\n\t\t\t\t\t$('a[href=\"#history\"]').tab(\"show\");\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetWorkout: function() {\r\n\t\t\t\tlet thisLog = {id: $(this).attr(\"id\")};\r\n\t\t\t\tlogID = thisLog.id;\r\n\t\t\t\tlet updateData = {log: thisLog};\r\n\t\t\t\tlet getLog = $.ajax({\r\n\t\t\t\t\ttype: \"GET\",\r\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"log/\" + logID,\r\n\t\t\t\t\tdata: JSON.stringify(updateData),\r\n\t\t\t\t\tcontentType: \"application/json\"\r\n\t\t\t\t});\r\n\t\t\t\tgetLog.done(function(data){\r\n\t\t\t\t\t$('a[href=\"#update-log\"]').tab(\"show\");\r\n\t\t\t\t\t$('#update-result').val(data.result);\r\n\t\t\t\t\t$('#update-description').val(data.description);\r\n\t\t\t\t\t$('#update-id').val(data.id);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tupdateWorkout: function() {\r\n\t\t\t\t$(\"#update\").text(\"Update\");\r\n\t\t\t\tlet updateLog = {\r\n\t\t\t\t\tid: $('#update-id').val(),\r\n\t\t\t\t\tdesc: $(\"#update-description\").val(),\r\n\t\t\t\t\tresult: $(\"#update-result\").val(),\r\n\t\t\t\t\tdef: $(\"#update-definition option:selected\").text()\r\n\t\t\t\t}\r\n\t\t\t\tfor (let i = 0; i < WorkoutLog.log.workouts.length; i++) {\r\n\t\t\t\t\tif(WorkoutLog.log.workouts[i].id == updateLog.id) {\r\n\t\t\t\t\t\tWorkoutLog.log.workouts.splice(i, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tWorkoutLog.log.workouts.push(updateLog);\r\n\t\t\t\tlet updateLogData = {log: updateLog};\r\n\t\t\t\tlet updater = $.ajax({\r\n\t\t\t\t\ttype: \"PUT\",\r\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"log\",\r\n\t\t\t\t\tdata:JSON.stringify(updateLogData),\r\n\t\t\t\t\tcontentType: \"application/json\"\r\n\t\t\t\t});\r\n\t\t\t\tupdater.done(function(data) {\r\n\t\t\t\t\t$(\"#update-description\").val(\"\");\r\n\t\t\t\t\t$(\"#update-result\").val(\"\");\r\n\t\t\t\t\t$('a[href=\"#history\"]').tab(\"show\");\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tdelete: function() {\r\n\t\t\t\tlet thisLog = {\r\n\t\t\t\t\t//this is the button on the li\r\n\t\t\t\t\t//.attr(id) targets the value of the id attribute of button\r\n\t\t\t\t\tid: $(this).attr(\"id\")\r\n\t\t\t\t};\r\n\t\t\t\tlet deleteData = {log: thisLog};\r\n\t\t\t\tlet deleteLog = $.ajax({\r\n\t\t\t\t\ttype: \"DELETE\",\r\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"log\",\r\n\t\t\t\t\tdata: JSON.stringify(deleteData),\r\n\t\t\t\t\tcontentType: \"application/json\"\r\n\t\t\t\t});\r\n\t\t\t\t//removes list item\r\n\t\t\t\t//references button then grabs closest li\r\n\t\t\t\t$(this).closest(\"li\").remove();\r\n\t\t\t\t//deletes item out of workouts array\r\n\t\t\t\tfor (var i = 0; i < WorkoutLog.log.workouts.length; i++) {\r\n\t\t\t\t\tif (WorkoutLog.log.workouts[i].id == thisLog.id) {\r\n\t\t\t\t\t\tWorkoutLog.log.workouts.splice(i, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tdeleteLog.fail(function() {\r\n\t\t\t\t\tconsole.log(\"nope. you didn't delete it.\");\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tfetchAll: function() {\r\n\t\t\t\tlet fetchDefs = $.ajax({\r\n\t\t\t\t\ttype: \"GET\",\r\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"log\",\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\"authorization\": window.localStorage.getItem(\"sessionToken\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.done(function(data) {\r\n\t\t\t\t\tWorkoutLog.log.workouts = data;\r\n\t\t\t\t})\r\n\t\t\t\t.fail(function(err) {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t//click the button and create or delete a log entry\r\n\t$(\"#log-save\").on(\"click\", WorkoutLog.log.create);\r\n\t$(\"#log-update\").on(\"click\", WorkoutLog.log.updateWorkout);\r\n\t$(\"#history-list\").delegate('.update', 'click', WorkoutLog.log.getWorkout);\r\n\t$(\"#history-list\").delegate('.remove', 'click', WorkoutLog.log.delete);\r\n\tif (window.localStorage.getItem(\"sessionToken\")) {\r\n\t\tWorkoutLog.log.fetchAll();\r\n\t}\r\n});","$(function(){\r\n\t$.extend(WorkoutLog, {\r\n\t\t//signup method\r\n\t\tsignup: function() {\r\n\t\t\t//username and password variables\r\n\t\t\tlet username = $(\"#su_username\").val();\r\n\t\t\tlet password = $(\"#su_password\").val();\r\n\t\t\t//user object\r\n\t\t\tlet user = {\r\n\t\t\t\tuser: {\r\n\t\t\t\t\tusername: username,\r\n\t\t\t\t\tpassword: password\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t//signup post\r\n\t\t\tlet signup = $.ajax({\r\n\t\t\t\ttype: \"POST\",\r\n\t\t\t\turl: WorkoutLog.API_BASE + \"user\",\r\n\t\t\t\tdata: JSON.stringify(user),\r\n\t\t\t\tcontentType: \"application/json\"\r\n\t\t\t});\r\n\r\n\t\t\t//signup done/fail\r\n\t\t\tsignup.done(function(data){\r\n\t\t\t\tif (data.sessionToken) {\r\n\t\t\t\t\tWorkoutLog.setAuthHeader(data.sessionToken);\r\n\t\t\t\t\tWorkoutLog.definition.fetchAll();\r\n\t\t\t\t\tWorkoutLog.log.fetchAll();\r\n\t\t\t\t};\r\n\t\t\t\t$(\"#signup-modal\").modal(\"hide\");\r\n\t\t\t\t$(\".disabled\").removeClass(\"disabled\");\r\n\t\t\t\t$(\"#loginout\").text(\"Logout\");\r\n\t\t\t\t$(\"#su_username\").val(\"\");\r\n\t\t\t\t$(\"#su_password\").val(\"\");\r\n\t\t\t\t$('a[href=\"#define\"]').tab(\"show\"); //routing\r\n\t\t\t}).fail(function() {\r\n\t\t\t\t$(\"#su_error\").text(\"There was an issue with sign up\").show();\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t//login method\r\n\t\tlogin: function() {\r\n\t\t\t//login variables\r\n\t\t\tlet username = $(\"#li_username\").val();\r\n\t\t\tlet password = $(\"#li_password\").val();\r\n\t\t\tlet user = {\r\n\t\t\t\tuser: {\r\n\t\t\t\t\tusername: username,\r\n\t\t\t\t\tpassword: password\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t//login POST\r\n\t\t\tlet login = $.ajax({\r\n\t\t\t\ttype: \"POST\",\r\n\t\t\t\turl: WorkoutLog.API_BASE + \"login\",\r\n\t\t\t\tdata: JSON.stringify(user),\r\n\t\t\t\tcontentType: \"application/json\"\r\n\t\t\t})\r\n\t\t\t//login done/fail\r\n\t\t\tlogin.done(function(data) {\r\n\t\t\t\tif (data.sessionToken) {\r\n\t\t\t\t\tWorkoutLog.setAuthHeader(data.sessionToken);\r\n\t\t\t\t\tWorkoutLog.definition.fetchAll();\r\n\t\t\t\t\tWorkoutLog.log.fetchAll();\r\n\t\t\t\t}\r\n\t\t\t\t$(\"#login-modal\").modal(\"hide\");\r\n\t\t\t\t$(\".disabled\").removeClass(\"disabled\");\r\n\t\t\t\t$(\"#loginout\").text(\"Logout\");\r\n\t\t\t\t$(\"#li_username\").val(\"\");\r\n\t\t\t\t$(\"#li_password\").val(\"\");\r\n\t\t\t\t$('a[href=\"#define\"]').tab(\"show\");\r\n\t\t\t}).fail(function (){\r\n\t\t\t\t$(\"#li_error\").text(\"There was an issue with the login\").show();\r\n\t\t\t});\r\n\t\t},\r\n\t\t//loginoutmethod\r\n\t\tloginout: function() {\r\n\t\t\tif (window.localStorage.getItem(\"sessionToken\")) {\r\n\t\t\t\twindow.localStorage.removeItem(\"sessionToken\");\r\n\t\t\t}\r\n\t\tlocation = location;\r\n\t\t}\r\n\t});\r\n\t\t//bind events\r\n\t\t$(\"#login\").on(\"click\", WorkoutLog.login);\r\n\t\t$(\"#signup\").on(\"click\", WorkoutLog.signup);\r\n\t\t$(\"#loginout\").on(\"click\", function() {\r\n\t\t\twindow.location.reload(true);\r\n\t\t\t});\r\n\t\tif (window.localStorage.getItem(\"sessionToken\")) {\r\n\t\t\t$(\"#loginout\").text(\"Logout\");\r\n\t\t}\r\n})"]}